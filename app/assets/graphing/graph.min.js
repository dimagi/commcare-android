function displayError(t){console.log(t);var e=document.getElementById("error");e.innerHTML=t,e.style.display="block"}function applyPointShape(t,e){if("bar"!==type&&"bubble"!==type){var i=d3.selectAll(".c3-circles-"+t),n=i.selectAll("circle")[0];if(n)for(var a=0;a<n.length;a++)n[a].style.opacity=0,appendSymbol(i,n[a].cx.baseVal.value,n[a].cy.baseVal.value,e,n[a].style.fill)}}function applyLegendShape(t,e){if("none"!==e){var i=d3.selectAll(".c3-legend-item-"+t),n=i.selectAll("line");if(!n||!n.length)return;n=n[0][0],n.style.opacity=0,appendSymbol(i,n.x1.baseVal.value+5,n.y1.baseVal.value,e,n.style.stroke)}}function appendSymbol(t,e,i,n,a){"none"!==n&&t.append("path").attr("transform",function(){return"translate("+e+", "+i+")"}).attr("class","symbol").attr("d",d3.svg.symbol().type(n).size(50)).style("fill",a).style("stroke",a)}document.addEventListener("DOMContentLoaded",function(){var t=10,e=0,i=setInterval(function(){if(e+=t,!document.body.offsetWidth||!document.body.offsetHeight)return void(e>1e4&&clearInterval(i));clearInterval(i);try{var n=(document.getElementById("chart-title")||{offsetHeight:0}).offsetHeight;config.size={height:document.body.offsetHeight-n,width:document.body.offsetWidth},config.interaction={enabled:!0};var a=function(t){return t};"time"===type&&(a=d3.time.format(config.axis.x.tick.format)),config.tooltip={show:!0,grouped:"bar"===type,contents:function(t){for(var e="",i=0;i<t.length;i++)if(data.isData[t[i].id]){var n=config.data.names[t[i].id];e+="<tr><td>"+n+"</td><td>"+t[i].value+"</td></tr>"}return e?(e="bar"===type?"<tr><td colspan='2'>"+data.barLabels[t[0].x]+"</td></tr>"+e:"<tr><td>"+data.xNames[t[0].id]+"</td><td>"+a(t[0].x)+"</td></tr>"+e,"bubble"===type&&(e+="<tr><td>Radius</td><td>"+data.radii[d.id][d.index]+"</td></tr>"),e="<table>"+e+"</table>",e="<div id='tooltip'>"+e+"</div>"):""}},config.point={r:function(t){return data.radii[t.id]?30*data.radii[t.id][t.index]/data.maxRadii[t.id]:0}},config.axis.x.tick&&!config.axis.x.tick.format&&(config.axis.x.tick.format=function(t){var e=t+"";if("time"===type){var i=e.match(/\d+:\d+:\d+/)[0];e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+i}var n=void 0===axis.xLabels[e]?t:axis.xLabels[e];return Math.round(n)||n}),config.axis.y.tick&&(config.axis.y.tick.format=function(t){return axis.yLabels[t+""]||Math.round(t)}),config.axis.y2.tick&&(config.axis.y2.tick.format=function(t){return axis.y2Labels[t+""]||Math.round(t)});var r=[];for(var s in config.data.xs)data.isData[s]||r.push(s);config.legend.hide=r,config.data.labels={format:function(t,e){return data.annotations[e]||""}},config.data.order=!1,config.onrendered=function(){d3.selectAll("g.c3-texts text").attr("dy",10);for(var t in data.pointStyles){var e=data.pointStyles[t];applyPointShape(t,e),applyLegendShape(t,e)}for(var t in config.data.colors){if("bar"===type)for(var i=d3.selectAll(".c3-bars-"+t+" path")[0],n=0;n<i.length;n++){data.barColors[t]&&data.barColors[t][n]&&(i[n].style.fill=data.barColors[t][n]);var a;data.barOpacities[t]&&(a=data.barOpacities[t][n]),a=a||data.lineOpacities[t],i[n].style.opacity=a}else{var r=d3.selectAll(".c3-lines-"+t+" path")[0][0];r&&(r.style.opacity=data.lineOpacities[t])}var s=d3.selectAll(".c3-legend-item-"+t+" path")[0];s.length||(s=d3.selectAll(".c3-legend-item-"+t+" line")[0]),s.length&&(s=s[0],s.style.opacity=data.lineOpacities[t]);var o=d3.selectAll(".c3-circles-"+t+" path")[0];o.length||(o=d3.selectAll(".c3-circles-"+t+" circle")[0]);for(var n=0;n<o.length;n++)o[n].style.opacity=data.lineOpacities[t]}for(var t in data.areaColors){var c=d3.selectAll(".c3-areas-"+t+" path")[0][0];c&&(c.style.fill=data.areaColors[t],c.style.opacity=data.areaOpacities[t])}},c3.generate(config)}catch(o){displayError(o)}},t)});